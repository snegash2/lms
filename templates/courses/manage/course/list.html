{% extends "_base.html" %}

{% block title %}My courses{% endblock %}

{% block content %}
<div class="max-w-screen-xl  sm:px-6  grid lg:grid-cols-4 md:grid-cols-2 sm:grid-cols-1">
    {% for course in object_list %}

        <div class="card my-3 border-blue-600">
          <div class="card-header">
            <h3 class="card-title">{{course.title}}</h3>
          </div>
          <div class="card-body">
            <p class="card-text">{{course.overview|truncatewords:5 }}</p>
          </div>
          <div class="card-footer">
           <span class="inline-flex-space-x-px overflow-hidden  bg-white shadow-sm">

          <a  href="{% url "courses:course_edit"  course.id %}"  class="text-blue-500 hover:text-blue-700">Edit</a>
          <a href="{% url "courses:course_delete" course.id %}"  class="text-red-500 hover:text-blue-700">Delete</a>
          <a href="{% url "courses:course_module_update" course.id %}" class="text-blue-500 hover:text-blue-700">Edit modules</a>
          {% if course.modules.count > 0 %}
            <a href="{% url "courses:module_content_list" course.modules.first.id %}"  class="text-blue-500 hover:text-blue-700">
            Manage contents
            </a>
            {% endif %}
        </span>
          </div>
        </div>



    {% empty %}
      <p>You haven't created any courses yet.</p>
    {% endfor %}
    </div>
   <span class="inline-flex overflow-hidden rounded-md border bg-white shadow-sm">
  <a
      href="{% url "courses:course_create" %}"
    class="inline-block border-e px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 focus:relative"
  >
    Create New Course
  </a>

  <button
    class="inline-block px-4 py-2 text-gray-700 hover:bg-gray-50 focus:relative"
    title="View Orders"
  >
    <svg
      xmlns="http://www.w3.org/2000/svg"
      fill="none"
      viewBox="0 0 24 24"
      stroke-width="1.5"
      stroke="currentColor"
      class="h-4 w-4"
    >
      <path
        stroke-linecap="round"
        stroke-linejoin="round"
        d="M2.25 18.75a60.07 60.07 0 0115.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 013 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 00-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 01-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 003 15h-.75M15 10.5a3 3 0 11-6 0 3 3 0 016 0zm3 0h.008v.008H18V10.5zm-12 0h.008v.008H6V10.5z"
      />
    </svg>
  </button>
</span>

  </div>
{% endblock %}


{% block include_js %}
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html5sortable/0.13.3/
html5sortable.min.js"></script>
{% endblock %}

{% block domready %}
    var options = {
    method: 'POST',
    mode: 'same-origin'
    }
    const moduleOrderUrl = '{% url "courses:module_order" %}';
    sortable('#modules', {
    forcePlaceholderSize: true,
    placeholderClass: 'placeholder'
    });
{% endblock %}